<div class="datasets-filters__type" *ngIf="hideBasic">
  <ui-checkbox
    (modelChange)="DSService.searchFilters = { field: 'mediaStatic', data: $event }"
    [name]="'media'"
    [(model)]="filtersState.mediaStatic"
  >
    {{ 'datasets.filters.media' | translate }}
  </ui-checkbox>
  <ui-checkbox
    (modelChange)="DSService.searchFilters = { field: 'geoStatic', data: $event }"
    [name]="'coordinates'"
    [(model)]="filtersState.geoStatic"
  >
    {{ 'datasets.filters.coordinates' | translate }}
  </ui-checkbox>
</div>

<div class="datasets-filters__filters" *ngIf="hideBasic">
  <ng-container *ngFor="let key of getFilters()">
    <ofd-agregator-datasets-filter
      header="{{ filtersByKey[key].name }}"
      [type]="filtersByKey[key].type"
      [data]="filtersByKey[key].items"
      [key]="filtersByKey[key].key"
      [(value)]="filtersByKey[key].values"
      [isExpanded]="filtersByKey[key].isExpanded"
      [multiple]="filtersByKey[key].multiple"
      (valueChange)="filtersChanged()"
    ></ofd-agregator-datasets-filter>
  </ng-container>

  <ng-container *ngIf="moreFilters">
    <ng-container *ngFor="let key of getFilters(false)">
      <ofd-agregator-datasets-filter
        header="{{ filtersByKey[key].name }}"
        [type]="filtersByKey[key].type"
        [data]="filtersByKey[key].items"
        [key]="filtersByKey[key].key"
        [(value)]="filtersByKey[key].values"
        [isExpanded]="filtersByKey[key].isExpanded"
        [multiple]="filtersByKey[key].multiple"
        (valueChange)="filtersChanged()"
      ></ofd-agregator-datasets-filter>
    </ng-container>
  </ng-container>

  <button
    class="button datasets-filters__more-filters"
    *ngIf="basicFiltersKeys.length > moreCountStart"
    (click)="moreFilters = !moreFilters"
  >
    <ng-container *ngIf="!moreFilters">
      {{ 'global.more-filters' | translate }}
      <svg-icon src="assets/images/plus.svg" class="m-l-10" [applyCss]="true"></svg-icon>
    </ng-container>
    <ng-container *ngIf="moreFilters">
      {{ 'global.less-filters' | translate }}
      <svg-icon src="assets/images/minus.svg" class="m-l-10 m-t--10" [applyCss]="true"></svg-icon>
    </ng-container>
  </button>
</div>
